# History

Given Entry record type enclosed in History type:

> `History.cs`

```csharp
using System.Collections.Generic;

namespace ClassLibrary1
{
    public partial class History
    {
        private IEnumerable<Entry> entries;

        [Record]
        private partial class Entry
        {
            public int Id { get; }

            public string Name { get; }

            public string Details { get; }
        }
    }
}
```

*Note: Enclosing type as well as record type must be declared partial, if they aren't [RecordGen1000](/../../analyzers/rules/RecordGen1000.md) error is raised (the generated partial won't compile).*

Generates `History.T9mS2gf-.generated.cs`:

```csharp
// ------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
// ------------------------------------------------------------------------------

using System.Collections.Generic;

namespace ClassLibrary1
{
    public partial class History
    {
        partial class Entry
        {
            public Entry(int Id, string Name, string Details)
            {
                this.Id = Id;
                this.Name = Name;
                this.Details = Details;
                Validate();
            }

            public Entry Update(int Id, string Name, string Details)
            {
                return new Entry(Id, Name, Details);
            }

            public Entry WithId(int Id)
            {
                return Update(Id, Name, Details);
            }

            public Entry WithName(string Name)
            {
                return Update(Id, Name, Details);
            }

            public Entry WithDetails(string Details)
            {
                return Update(Id, Name, Details);
            }

            partial void Validate();
        }

        partial class Entry
        {
            public Builder ToBuilder()
            {
                return new Builder{Id = Id, Name = Name, Details = Details};
            }

            public partial class Builder
            {
                public int Id
                {
                    get;
                    set;
                }

                public string Name
                {
                    get;
                    set;
                }

                public string Details
                {
                    get;
                    set;
                }

                public Entry ToImmutable()
                {
                    return new Entry(Id, Name, Details);
                }
            }
        }

        partial class Entry
        {
            public void Deconstruct(out int id, out string name, out string details)
            {
                id = this.Id;
                name = this.Name;
                details = this.Details;
            }
        }
    }
}
```